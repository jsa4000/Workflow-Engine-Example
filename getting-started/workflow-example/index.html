<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Workflow Engine Example"><meta name=author content="Javier Santos"><link href=https://jsa4000.github.io/Workflow-Engine-Example/getting-started/workflow-example/ rel=canonical><link href=../installation/ rel=prev><link href=../workflow-run/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.41"><title>Example - Workflow Engine</title><link rel=stylesheet href=../../assets/stylesheets/main.0253249f.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i,700,700i%7CRed+Hat+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Merriweather Sans";--md-code-font:"Red Hat Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#policy-process class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Workflow Engine" class="md-header__button md-logo" aria-label="Workflow Engine" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Workflow Engine </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Example </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=green data-md-color-accent=deep-purple aria-label="Dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=deep-orange aria-label="Light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/jsa4000/Workflow-Engine-Example.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> jsa4000/Workflow-Engine-Example </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Workflow Engine </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../installation/ class=md-tabs__link> Getting started </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Workflow Engine" class="md-nav__button md-logo" aria-label="Workflow Engine" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m19 2-5 4.5v11l5-4.5zM6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5"/></svg> </a> Workflow Engine </label> <div class=md-nav__source> <a href=https://github.com/jsa4000/Workflow-Engine-Example.git title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> jsa4000/Workflow-Engine-Example </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Workflow Engine </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Getting started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Example </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Example </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#policy-process class=md-nav__link> <span class=md-ellipsis> Policy Process </span> </a> <nav class=md-nav aria-label="Policy Process"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bpmn class=md-nav__link> <span class=md-ellipsis> BPMN </span> </a> </li> <li class=md-nav__item> <a href=#forms class=md-nav__link> <span class=md-ellipsis> Forms </span> </a> </li> <li class=md-nav__item> <a href=#dmn class=md-nav__link> <span class=md-ellipsis> DMN </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#validation-process class=md-nav__link> <span class=md-ellipsis> Validation Process </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../workflow-run/ class=md-nav__link> <span class=md-ellipsis> Run </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <nav class=md-tags> <span class=md-tag>Workflow Engine</span> <span class=md-tag>DMN</span> <span class=md-tag>Camunda</span> </nav> <h1>Example</h1> <h3 id=policy-process>Policy Process<a class=headerlink href=#policy-process title="Permanent link">#</a></h3> <h4 id=bpmn>BPMN<a class=headerlink href=#bpmn title="Permanent link">#</a></h4> <p><strong>Business Process Model and Notation (BPMN 2.0)</strong> was developed as a <strong>graphical notation</strong> to <strong>represent complex processes</strong> and address these challenges. The visual nature of BPMN enables <strong>greater collaboration</strong> between different teams.</p> <p>The <a href=process-dmn.bpmn>policy process</a> is a more complex BPMN process that consist on several <strong>User Tasks</strong>, <strong>Script Tasks</strong>, <strong>Call Activity</strong> (subprocess) and multiple <strong>Gateways</strong> and <strong>boundary events</strong>.</p> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn.png></a></p> <div class="tabbed-set tabbed-alternate" data-tabs=1:12><input checked=checked id=bpmn-process name=__tabbed_1 type=radio><input id=bpmn-user-task name=__tabbed_1 type=radio><input id=bpmn-dmn name=__tabbed_1 type=radio><input id=bpmn-sequence-flow name=__tabbed_1 type=radio><input id=bpmn-process-sequence name=__tabbed_1 type=radio><input id=bpmn-call-activity name=__tabbed_1 type=radio><input id=bpmn-error-event name=__tabbed_1 type=radio><input id=bpmn-notification name=__tabbed_1 type=radio><input id=bpmn-escalation name=__tabbed_1 type=radio><input id=bpmn-reminder name=__tabbed_1 type=radio><input id=bpmn-cancel-event name=__tabbed_1 type=radio><input id=bpmn-confirmation name=__tabbed_1 type=radio><div class=tabbed-labels><label for=bpmn-process>Process</label><label for=bpmn-user-task>User Task</label><label for=bpmn-dmn>DMN</label><label for=bpmn-sequence-flow>Sequence Flow</label><label for=bpmn-process-sequence>Process Sequence</label><label for=bpmn-call-activity>Call Activity</label><label for=bpmn-error-event>Error Event</label><label for=bpmn-notification>Notification</label><label for=bpmn-escalation>Escalation</label><label for=bpmn-reminder>Reminder</label><label for=bpmn-cancel-event>Cancel Event</label><label for=bpmn-confirmation>Confirmation</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-process.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-process.png width=250></a></p> <p>In the <strong>Process</strong> tab you have to configure the <strong>Name</strong> and <strong>ID</strong> of the process.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>You must select in an <strong>empty area</strong> of the <strong>Camunda Modeler</strong> to get the process properties.</p> </div> <p>This process can be used as <strong>standalone</strong> or <strong>invoked</strong> by other processes as <strong>Call Activity</strong> (subprocess). In this case this is the <strong>main process</strong>, so other processes will be <strong>executed</strong> from this one. </p> <p>Another important configuration if the <em><strong>Historical Time to live (HTTL)</strong></em>, the <em><strong>Candidate starter groups</strong></em> and <em><strong>Candidate starter users</strong></em> that will be able to interact with this process.</p> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-policy-user-task.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-policy-user-task.png width=250></a></p> <p><strong>User Tasks</strong> are tasks that need <strong>user interaction</strong> to be able to <strong>continue</strong> with the <strong>process</strong>. When an user task is <strong>completed</strong>, the task may need additional <strong>variables</strong> to be submitted into the flow (<code>Forms</code>). These <strong>variables</strong> can be used for following tasks to perform <strong>automatic tasks</strong> such as validations, data persist operations or be used by <strong>conditionals</strong> based on <strong>gateways</strong> or <strong>rule engines (DMN)</strong>.</p> <p>User tasks allows to configure the assignments based on following properties:</p> <ul> <li><strong>Assignee</strong>: the <strong>user</strong> that must <strong>complete</strong> the tasks</li> <li><strong>Candidate groups</strong>: Comma separated values with the <strong>groups</strong> or profiles <strong>allowed</strong> to claim the task.</li> <li><strong>Candidate users</strong>: Comma separated values with the <strong>users</strong> <strong>allowed</strong> to claim the task.</li> <li><strong>Due date</strong>: Due date to <strong>complete</strong> the task, otherwise the task will be cancelled.</li> </ul> <p>In order to get variables to be submitted into the process, Camunda allow to configure <code>Forms</code> directly into the tasks.</p> <ul> <li><strong>Type</strong>: Type of Form supported by Camunda: <code>Camunda Forms</code>, <code>Embedded or External Tasks Forms</code> or <code>Generated Task Forms</code>.</li> <li><strong>Form reference</strong>: the form identifier (<code>ID</code>) used when creating the <code>Camunda Form</code>.</li> <li><strong>Binding</strong>: The version of the form used: <code>deployment</code>, <code>latest</code>, <code>version</code>.</li> </ul> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-dmn-risk.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-dmn-risk.png width=250></a></p> <p>The <strong>Business Rule Task</strong> allow to set a business logic (<code>conditions</code>) to <strong>generate</strong> results (<code>outputs</code>) based on <strong>variables</strong> (<code>inputs</code>) from the current process.</p> <ul> <li><strong>Type</strong>: Types of implementations that can be used: <strong>DMN</strong>, <strong>External</strong>, <strong>Java Class</strong>, <strong>Expression</strong>, etc.. </li> <li><strong>Decision reference</strong>: In the case of using <strong>DMN</strong>, the decision table to be used to compute the business rules.</li> <li><strong>binding</strong>: The version of the form used: <code>deployment</code>, <code>latest</code>, <code>version</code>, <code>versionTag</code>.</li> <li><strong>Result variable</strong>: The name of the variable with the result (<code>output</code>).</li> <li><strong>Map decision result</strong>: Depending on the result to return or the <code>Hit Policy</code> using DMN, it can return multiple occurrences. For that Camunda allow the following types: <code>singleResult (Map&lt;String,Object&gt;)</code>, <code>resultList (List&lt;Map&lt;String,Object&gt;&gt;)</code>, <code>singleEntry (TypedValue)</code>, <code>collectEntries (List&lt;Object&gt;)</code>.</li> </ul> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-sequence-flow.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-sequence-flow.png width=250></a></p> <p>By using <strong>conditional gateways</strong> (<strong>Exclusive Gateway</strong>), you can <strong>control</strong> the sequence <strong>depending</strong> on <strong>conditions</strong>. Those <strong>conditions</strong> are <strong>computed</strong> by the <strong>Sequence Flow</strong>, that are the arrows that are connected to the conditional gateway.</p> <p>In order to set the condition, you must configure following properties:</p> <ul> <li><strong>Type</strong>: You can choose between <code>Script</code> or <code>Expression</code> to specify the condition.</li> <li><strong>Condition Expression</strong>: In the case of using <code>Script</code>, you can use following script to check for a particular condition: <code>${result.risk == "HIGH"}</code></li> </ul> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-process-policy.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-process-policy.png width=250></a></p> <p>This is an <strong>automatic task</strong> that support scripting. There are several <a href=https://docs.camunda.org/manual/7.22/user-guide/process-engine/scripting/ >scripting languages</a> supported by Camunda. You would need to add dependencies to support various languages into the Camunda project.</p> <p>In order to support <strong>groovy</strong> scripting language to will need to add following dependency into <code>pom.xml</code> file.</p> <div class="language-xml highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=w>  </span><span class=nt>&lt;dependency&gt;</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>      </span><span class=nt>&lt;groupId&gt;</span>org.codehaus.groovy<span class=nt>&lt;/groupId&gt;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>      </span><span class=nt>&lt;artifactId&gt;</span>groovy-jsr223<span class=nt>&lt;/artifactId&gt;</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>      </span><span class=nt>&lt;version&gt;</span>${groovy-jsr.version}<span class=nt>&lt;/version&gt;</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>      </span><span class=nt>&lt;scope&gt;</span>compile<span class=nt>&lt;/scope&gt;</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=w>  </span><span class=nt>&lt;/dependency&gt;</span>
</span></code></pre></div> <p>In order to properly configure a Script Task you will need to select:</p> <ul> <li><strong>Format</strong>: The format of your scripting language: <code>groovy</code>, <code>javascript</code>, <code>python</code>, etc..</li> <li><strong>Type</strong>: There are two options <code>Inline script</code> or <code>External Resource</code></li> <li><strong>Script/External Resource</strong>: Depending on the <code>Type</code> selected you must put down your script or reference an external file.</li> </ul> <p>Following <strong>groovy</strong> script will extract the variable <code>result</code> generated by the <strong>Business Rule Task (DMN)</strong> and print a message into the console, with the <code>risk</code> attribute.</p> <div class="language-groovy highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>var</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>execution</span><span class=o>.</span><span class=na>getVariable</span><span class=o>(</span><span class=s2>&quot;result&quot;</span><span class=o>);</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>println</span><span class=w> </span><span class=s2>&quot;Compute Policy &quot;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>result</span><span class=o>.</span><span class=na>risk</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s2>&quot; risk&quot;</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-call-activity-validation.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-call-activity-validation.png width=250></a></p> <p><strong>Call Activity</strong> allows to call a <strong>subprocess</strong> modeled into a different file. This allows to <strong>share processes</strong> instead creating embedded subprocesses in the same file.</p> <p>In order to properly configure a <code>Call Activity</code>, you must set following properties into <code>Called Element</code>:</p> <ul> <li><strong>Type</strong>: Call activity could be either <code>BPMN</code> or <code>CMMN</code> subprocess.</li> <li><strong>Called element</strong>: The reference of the called element or subprocess <code>ID</code>.</li> <li><strong>Binding</strong>: The version of the form used: <code>deployment</code>, <code>latest</code>, <code>version</code>, <code>versionTag</code>.</li> <li><strong>Business Key</strong>: Allow to propagate the same <code>Business Key</code> to the subprocess being called.</li> </ul> <p>In order the <strong>subprocess</strong> and <strong>parent</strong> share the <strong>same variables</strong> ensure to <strong>check</strong> following properties.</p> <ul> <li><code>Propagate all variables</code> in <code>In Mapping Propagation</code></li> <li><code>Propagate all variables</code> in <code>Out Mapping Propagation</code></li> </ul> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-cancel-error-event.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-cancel-error-event.png width=250></a></p> <p><strong>Boundary events</strong> provide a way to model what should happen if an event occurs while an activity is still <strong>active</strong>.</p> <p>A <strong>boundary event</strong> must be an <strong>intermediate</strong> catch event, and can be either <strong>interrupting</strong> or <strong>non-interrupting</strong>. <strong>Interrupting</strong> means that once triggered, before taking any outgoing sequence flow the activity the event is attached to is terminated. This allows modeling timeouts where we can prune certain execution paths if something happens (e.g. the process takes too long).</p> <p>You can add as many as needed <strong>Boundary events</strong> to a Task (Service Task, User Task, Script Task, etc..).</p> <p>There are multiple <a href=https://docs.camunda.io/docs/components/modeler/bpmn/events/ >options supported</a> in BPMN like <strong>Message Events</strong>, <strong>Signal Events</strong>, <strong>Timer Events</strong>, <strong>Error Events</strong>, <strong>Escalation Events</strong>, etc..</p> <p>In BPMN, errors define possible errors that can occur. Error events are elements in the process referring to defined errors. An error can be referenced by one or more error events. An error must define an <code>errorCode</code>. The value of this <code>errorCode</code> is used to determine which catch event can catch the thrown error.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In the example this Error Boundary Event will catch any error thrown by the <strong>Child Task (subprocess)</strong>, so it won't take into consideration the <code>errorCode</code> of the exception so it catches <strong>all thrown errors</strong>.</p> </div> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-send-notification.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-send-notification.png width=250></a></p> <p>This is a <strong>Script Task</strong> that only print an <strong>output log</strong> into the <strong>console</strong>.</p> <div class="language-groovy highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=n>println</span><span class=w> </span><span class=s2>&quot;Approval is pending to confirm&quot;</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-timer-escalation.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-timer-escalation.png width=250></a></p> <p><strong>Timer Boundary Event</strong> can be either <strong>interrupting</strong> or <strong>non-interrupting</strong>, in this case it is <strong>Interrupting</strong>. <strong>Interrupting</strong> means once is triggered the flow changes <strong>breaking</strong> the normal flow. The <strong>non-interrupting</strong> boundary events has dotted lines and the <strong>interrupting</strong> not.</p> <p>In order to properly configure <strong>Timer Boundary Event</strong> you will need to set following properties:</p> <ul> <li><strong>Type</strong>: You can select between three different types: <code>Date</code>, <code>Duration</code> and <code>Cycle</code>.</li> <li><strong>Value</strong>: The time value depending on the type. For the duration and date it uses <a href=https://en.wikipedia.org/wiki/ISO_8601>ISO 8601</a> time format (i. <code>PT5S</code>, <code>R/PT3S</code>)</li> </ul> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-timer-reminder.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-timer-reminder.png width=250></a></p> <p><strong>Timer Boundary Event</strong> can be either <strong>interrupting</strong> or <strong>non-interrupting</strong>, in this case it is <strong>non-interrupting</strong>. <strong>Non-interrupting</strong> means once is triggered the flow does not change the normal flow, instead it will run in parallel the secondary flow while it's <strong>waiting</strong> for the main task to be <strong>completed</strong>. The <strong>non-interrupting</strong> boundary events has dotted lines and the <strong>interrupting</strong> not.</p> <p>In order to properly configure <strong>Timer Boundary Event</strong> you will need to set following properties:</p> <ul> <li><strong>Type</strong>: You can select between three different types: <code>Date</code>, <code>Duration</code> and <code>Cycle</code>.</li> <li><strong>Value</strong>: The time value depending on the type. For the duration and date it uses <a href=https://en.wikipedia.org/wiki/ISO_8601>ISO 8601</a> time format (i. <code>PT5S</code>, <code>R/PT3S</code>)</li> </ul> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-cancel-message-event.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-cancel-message-event.png width=250></a></p> <p><strong>Message Boundary Event</strong> can be either <strong>interrupting</strong> or <strong>non-interrupting</strong>, in this case it is <strong>Interrupting</strong>. <strong>Interrupting</strong> means once is triggered the flow changes <strong>breaking</strong> the normal flow. The <strong>non-interrupting</strong> boundary events has dotted lines and the <strong>interrupting</strong> not.</p> <p>In order to properly configure <strong>Message Boundary Event</strong> you will need to set following properties for the Message:</p> <ul> <li><strong>Global Message reference</strong>: the message reference to be <strong>subscribed</strong> on. If the event does not exist it must be created.</li> <li><strong>Name</strong>: The name of the message event.</li> </ul> <p>Once <strong>Boundary Event</strong> receives a message using that message <code>name</code> and the <code>Business Key</code>, it will be <strong>triggered</strong> so the normal flow will break.</p> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-bpmn-send-confirmation.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-bpmn-send-confirmation.png width=250></a></p> <p>This is a <strong>Script Task</strong> that checks if <code>approved</code> is <code>true</code> to confirm the policy.</p> <p>This is the script to be <strong>evaluated</strong>.</p> <div class="language-groovy highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>if</span><span class=o>(</span><span class=n>approved</span><span class=o>==</span><span class=kc>true</span><span class=o>){</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>  </span><span class=n>println</span><span class=w> </span><span class=s2>&quot;An email has been sent to the user to confirm the policy.&quot;</span><span class=o>;</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=o>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=o>{</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>  </span><span class=n>println</span><span class=w> </span><span class=s2>&quot;An email has been sent to the user to deny the policy.&quot;</span><span class=o>;</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=o>}</span>
</span></code></pre></div> </div> </div> </div> <h4 id=forms>Forms<a class=headerlink href=#forms title="Permanent link">#</a></h4> <p>Forms can be modeled using <strong>Camunda Modeler</strong>. You can add as many <strong>elements</strong> to the <strong>form</strong> and binding to <strong>variables</strong> that will be <strong>submitted</strong> to the process when the task is <strong>completed</strong>.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Using <strong>Camunda Forms</strong> may not fit with the <strong>web framework</strong> or <strong>styles</strong> you are currently using. Because of that, you should <strong>create</strong> your own <strong>forms</strong> and bind them to the tasks by using proper identifiers.</p> </div> <p><a class=glightbox href=../../assets/getting-started-camunda-example-forms.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=workflow-engine src=../../assets/getting-started-camunda-example-forms.png></a></p> <h4 id=dmn>DMN<a class=headerlink href=#dmn title="Permanent link">#</a></h4> <p><strong>DMN stands for Decision Model and Notation</strong>. It is a <strong>standard</strong> administered by the <strong>Object Management Group (OMG)</strong> and has been widely adopted across various industries. Businesses leverage <strong>DMN</strong> to design <strong>decision models</strong> that are used for <strong>automation</strong> of the <strong>decision-making</strong> processes. DMN serves as a common language to <strong>align business and IT</strong> on repeatable <strong>business rules</strong> and <strong>decision management</strong>. The notation enhances business efficiency, reduces the risk of human error, and ensures that decision models are interchangeable across the organization.</p> <p>Core elements of DMN include:</p> <ul> <li><strong>Decision tables</strong>: Simple and intuitive <strong>representation</strong> of decisions consisting of <strong>input</strong>, <strong>condition</strong>, and <strong>output</strong>.</li> <li><strong>Friendly Enough Expression Language (FEEL)</strong>: Used to <strong>express conditions</strong> in the decision tables so they can be executed.</li> <li><strong>Decision Requirements Diagrams (DRD)</strong>: Created when a decision <strong>can not be described in just one simple table</strong>. For example, when there are dependencies between intermediate decisions output from which serve as an input for the final decision to be made.</li> </ul> <p>The example <a href=process-dmn.dmn>process dmn</a> consist in <strong>one decision</strong> table and <strong>two inputs</strong>, there is no additional <strong>DRD</strong> or <strong>functions</strong>.</p> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn.png width=500></a></p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=dmn-decision-table name=__tabbed_2 type=radio><input id=dmn-inputs name=__tabbed_2 type=radio><div class=tabbed-labels><label for=dmn-decision-table>Decision Table</label><label for=dmn-inputs>Inputs</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn-decision.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-decision.png width=250></a></p> <p>A <strong>decision table</strong> represents <strong>decision logic</strong> which can be depicted as a table in <strong>DMN</strong>. It consists of <strong>inputs</strong>, <strong>outputs</strong> and <strong>rules</strong>. Decision Tables can be <strong>chained</strong> by creating a <strong>Decision Requirements Diagrams (DRD)</strong></p> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn-drd.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-drd.png width=400></a></p> <p>In the configuration tab <strong>Name</strong> and ID must be specified for the <strong>DMN</strong>.</p> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn-input-type.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-input-type.png width=250></a> <a class=glightbox href=../../assets/getting-started-camunda-example-dmn-input-age.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-input-age.png width=250></a></p> <p>Inputs must be <strong>named</strong> in the <strong>same way</strong> as the variables from the <strong>process</strong> (i.e <code>type</code>, <code>age</code>).</p> <p>Later these <strong>inputs</strong> can be <strong>referenced</strong> in the Decision Table as an <strong>Expressions</strong>. This way it makes more <strong>explicit</strong> the <strong>inputs</strong> used for each Decision Table from the <strong>DMN</strong></p> </div> </div> </div> <p>A <strong>decision table</strong> consists of <strong>several rules</strong>, typically represented as <strong>rows</strong>. When reading such a row, we look at certain <strong>input values</strong> and <strong>deduct</strong> a certain <strong>result</strong> represented by <strong>output values</strong>.</p> <p><strong>Hit policies</strong> describe different ways (standardized by DMN) to <strong>evaluate</strong> the rules contained in a decision table. <strong>Different</strong> hit policies do not only <strong>lead</strong> to <strong>different results</strong>, but typically also <strong>require</strong> different modes of thinking and reason about the meaning of the entire table. For example, When using the simplest hit policy "unique" or "first", such rules <strong>do not overlap</strong>: only a <strong>single rule</strong> must match.</p> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn-decision-table.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-decision-table.png></a></p> <div class="tabbed-set tabbed-alternate" data-tabs=3:3><input checked=checked id=dmn-inputs_1 name=__tabbed_3 type=radio><input id=dmn-edit name=__tabbed_3 type=radio><input id=dmn-outputs name=__tabbed_3 type=radio><div class=tabbed-labels><label for=dmn-inputs_1>Inputs</label><label for=dmn-edit>Edit</label><label for=dmn-outputs>Outputs</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn-decision-input.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-decision-input.png width=250></a> </p> <p>Depending if you are defining de <strong>inputs</strong> in the <strong>DRD</strong>, you can use an <strong>Expression</strong> or use <strong>Input Variable</strong> instead.</p> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn.png width=350></a></p> <p>So, if you already have an <strong>input data</strong> named <code>type</code> you can use the <strong>same value</strong> for the <strong>expression</strong>. However if you <strong>don't have</strong> defined any <strong>input data</strong> to your ** <strong>, then you must use </strong>Input Variable** with the variable <code>type</code>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>It's <strong>best practice</strong> to use <strong>inputs</strong> from <strong>expressions</strong> rather than <strong>row inputs</strong>, since you can watch all inputs be seeing the <strong>DRD</strong>.</p> </div> <p>Using <code>string</code> types you can define <strong>predefined values</strong> (aka <em>enumerations</em>) in order to restrict possible values to choose from.</p> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn-decision-edit-enum.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-decision-edit-enum.png width=250></a> <a class=glightbox href=../../assets/getting-started-camunda-example-dmn-decision-edit-number.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-decision-edit-number.png width=250></a></p> <p>Depending on you input <strong>types</strong> you can select the <strong>condition</strong> to evaluate (<code>Match one</code>, <code>Comparison</code>) and the values to <strong>compare with</strong> (<code>CAR</code>,<code>&lt; 30</code>). </p> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-dmn-decision-output.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-dmn-decision-output.png width=250></a></p> <p>For the out put you must decide the <strong>type</strong> of the output and the <strong>value</strong> for each row. </p> <p>You can have <strong>multiple</strong> outputs returned in the final result.</p> </div> </div> </div> <p>The final <strong>result</strong> from the <strong>DMN</strong> will be used by flow and for the <a href=./#validation-process>validation process</a> with the following <code>json</code> format.</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=p>{</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>  </span><span class=nt>&quot;result&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>  </span><span class=nt>&quot;risk&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MID&quot;</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=p>}</span>
</span></code></pre></div> <h3 id=validation-process>Validation Process<a class=headerlink href=#validation-process title="Permanent link">#</a></h3> <p>The <a href=process-validation.bpmn>validation process</a> consist in one automatic task (<code>Script Task</code>) that checks whether the <strong>result</strong> from previous operation was <strong>successful</strong>. Otherwise, it will <strong>throw an exception</strong> that terminates the subprocess with an <strong>error</strong>. This error will be <strong>caught</strong> by the <strong>parent process</strong> in order to perform an action.</p> <p>Following is the structure of the <strong>result</strong> from the <a href=./#dmn>DMN Task</a></p> <div class="language-json highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=p>{</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>  </span><span class=nt>&quot;result&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>  </span><span class=nt>&quot;risk&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MID&quot;</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=p>}</span>
</span></code></pre></div> <p>The <strong>BPMN model</strong> of the validation process is the <strong>following</strong>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The process bellow have a <strong>Debug</strong> User Task so it will be <strong>easier</strong> to debug and <strong>watch</strong> variables, since it will stop the flow at that stage. <strong>You will need to remove it at the end</strong>.</p> </div> <p><a class=glightbox href=../../assets/getting-started-camunda-example-subprocess.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=workflow-engine src=../../assets/getting-started-camunda-example-subprocess.png width=700></a></p> <div class="tabbed-set tabbed-alternate" data-tabs=4:5><input checked=checked id=validation-process-process name=__tabbed_4 type=radio><input id=validation-process-validate-task name=__tabbed_4 type=radio><input id=validation-process-error-boundary name=__tabbed_4 type=radio><input id=validation-process-validation-error name=__tabbed_4 type=radio><input id=validation-process-error-event name=__tabbed_4 type=radio><div class=tabbed-labels><label for=validation-process-process>Process</label><label for=validation-process-validate-task>Validate Task</label><label for=validation-process-error-boundary>Error Boundary</label><label for=validation-process-validation-error>Validation Error</label><label for=validation-process-error-event>Error Event</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-subprocess-process.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-subprocess-process.png width=250></a></p> <p>In the <strong>Process</strong> tab you have to configure the <strong>Name</strong> and <strong>ID</strong> of the process.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>You must select in an <strong>empty area</strong> of the <strong>Camunda Modeler</strong> to get the process properties.</p> </div> <p>This process can be used as <strong>standalone</strong> or <strong>invoked</strong> by other processes as <strong>Call Activity</strong> (subprocess). In this case the <strong>ID</strong> of the process will be used to be referenced from other processes. </p> <p>Another important configuration if the <em><strong>Historical Time to live (HTTL)</strong></em>, the <em><strong>Candidate starter groups</strong></em> and <em><strong>Candidate starter users</strong></em> that will be able to interact with this process.</p> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-subprocess-script-validate.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-subprocess-script-validate.png width=250></a></p> <p>This is an <strong>automatic task</strong> that support scripting. There are several <a href=https://docs.camunda.org/manual/7.22/user-guide/process-engine/scripting/ >scripting languages</a> supported by Camunda. You would need to add dependencies to support various languages into the Camunda project.</p> <p>In order to support <strong>groovy</strong> scripting language to will need to add following dependency into <code>pom.xml</code> file.</p> <div class="language-xml highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=w>  </span><span class=nt>&lt;dependency&gt;</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>      </span><span class=nt>&lt;groupId&gt;</span>org.codehaus.groovy<span class=nt>&lt;/groupId&gt;</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>      </span><span class=nt>&lt;artifactId&gt;</span>groovy-jsr223<span class=nt>&lt;/artifactId&gt;</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>      </span><span class=nt>&lt;version&gt;</span>${groovy-jsr.version}<span class=nt>&lt;/version&gt;</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>      </span><span class=nt>&lt;scope&gt;</span>compile<span class=nt>&lt;/scope&gt;</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>  </span><span class=nt>&lt;/dependency&gt;</span>
</span></code></pre></div> <p>In order to properly configure a Script Task you will need to select:</p> <ul> <li><strong>Format</strong>: The format of your scripting language: <code>groovy</code>, <code>javascript</code>, <code>python</code>, etc..</li> <li><strong>Type</strong>: There are two options <code>Inline script</code> or <code>External Resource</code></li> <li><strong>Script/External Resource</strong>: Depending on the <code>Type</code> selected you must put down your script or reference an external file.</li> </ul> <p>Following <strong>groovy</strong> script will throw an <strong>exception</strong> if the result from a process variable (input of the process) is <code>false</code>.</p> <div class="language-groovy highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>var</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>execution</span><span class=o>.</span><span class=na>getVariable</span><span class=o>(</span><span class=s2>&quot;result&quot;</span><span class=o>);</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=n>println</span><span class=w> </span><span class=n>result</span><span class=o>;</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=k>if</span><span class=o>(</span><span class=n>result</span><span class=o>.</span><span class=na>result</span><span class=o>==</span><span class=kc>false</span><span class=o>){</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>  </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>org</span><span class=o>.</span><span class=na>camunda</span><span class=o>.</span><span class=na>bpm</span><span class=o>.</span><span class=na>engine</span><span class=o>.</span><span class=na>delegate</span><span class=o>.</span><span class=na>BpmnError</span><span class=o>(</span><span class=s2>&quot;validationError&quot;</span><span class=o>);</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=o>}</span>
</span></code></pre></div> <p>The exception will <strong>trigger</strong> the <strong>Error Boundary</strong>, so it will <strong>exit</strong> the <strong>normal</strong> path of the flow.</p> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-subprocess-error-boundary.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-subprocess-error-boundary.png width=250></a></p> <p><strong>Boundary events</strong> provide a way to model what should happen if an event occurs while an activity is still <strong>active</strong>.</p> <p>A <strong>boundary event</strong> must be an <strong>intermediate</strong> catch event, and can be either <strong>interrupting</strong> or <strong>non-interrupting</strong>. <strong>Interrupting</strong> means that once triggered, before taking any outgoing sequence flow the activity the event is attached to is terminated. This allows modeling timeouts where we can prune certain execution paths if something happens (e.g. the process takes too long).</p> <p>You can add as many as needed <strong>Boundary events</strong> to a Task (Service Task, User Task, Script Task, etc..).</p> <p>There are multiple <a href=https://docs.camunda.io/docs/components/modeler/bpmn/events/ >options supported</a> in BPMN like <strong>Message Events</strong>, <strong>Signal Events</strong>, <strong>Timer Events</strong>, <strong>Error Events</strong>, <strong>Escalation Events</strong>, etc..</p> <p>In BPMN, errors define possible errors that can occur. Error events are elements in the process referring to defined errors. An error can be referenced by one or more error events.</p> <p>An error must define an <code>errorCode</code>. The value of this <code>errorCode</code> is used to determine which catch event can catch the thrown error.</p> <p>For error throw events, it is possible to define the <code>errorCode</code> as an expression or a static value. If an <code>errorCode</code> expression is configured then it will be evaluated once the event is reached, and used to throw error.</p> <p>For error catch events <code>errorCode</code> must be a static value. Alternatively an error catch event may omit the error reference all together. In this case it catches all thrown errors.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>In the example this Error Boundary Event will catch any error thrown by the Task, so it won't take into consideration the <code>errorCode</code> of the exception so it catches <strong>all thrown errors</strong>.</p> </div> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-subprocess-script-error.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-subprocess-script-error.png width=250></a> </p> <p>This is a <strong>Script Task</strong> will only prints an <strong>output log</strong> into the <strong>console</strong>.</p> <div class="language-groovy highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=n>println</span><span class=w> </span><span class=s2>&quot;The Policy has been cancelled&quot;</span>
</span></code></pre></div> <p>You can also get the <strong>error code</strong> or <strong>message</strong> thrown by previous <em>error boundary event</em>.</p> </div> <div class=tabbed-block> <p><a class=glightbox href=../../assets/getting-started-camunda-example-subprocess-error-event.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img align=left alt=workflow-engine src=../../assets/getting-started-camunda-example-subprocess-error-event.png width=250></a></p> <p>In a process you can define <strong>End Events</strong> that will be used later by the parent process and caught by the corresponding <strong>Boundary Events</strong>. Similar when an exception is thrown by the system or a task, you can throw a <strong>typed exception</strong> at the end of the process using <strong>Error End Events</strong>.</p> <p>Following an example of a <strong>Call Activity</strong> that will catch an exception from a subprocess and <strong>react</strong> accordingly.</p> <p><a class=glightbox href=../../assets/getting-started-camunda-example-subprocess-error-event-catch.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt=workflow-engine src=../../assets/getting-started-camunda-example-subprocess-error-event-catch.png width=350></a></p> <p>The common parameters to be configured using <strong><em>Error End Event</em></strong> are:</p> <ul> <li><strong>Global error reference</strong>: The reference of the error to be thrown. You can create a new one if it does not exist.</li> <li><strong>Name</strong>: The <code>name</code> of the error.</li> <li><strong>Code</strong>: The <code>errorCode</code> of the exception to be caught by a <strong>Boundary Event</strong></li> <li><strong>Message</strong>: Message of the exception to be thrown.</li> </ul> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 1, 2024</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../installation/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Installation </div> </div> </a> <a href=../workflow-run/ class="md-footer__link md-footer__link--next" aria-label="Next: Run"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Run </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 Javier Santos </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/jsa4000 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["header.autohide", "navigation.footer", "navigation.instant", "navigation.instant.progress", "navigation.instant.preview", "navigation.tabs", "navigation.tracking", "navigation.top", "navigation.instant", "navigation.tracking", "toc.integrate", "search.suggest", "search.share", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.83f73b43.min.js></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>